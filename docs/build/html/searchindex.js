Search.setIndex({"docnames": ["candig_federation", "candig_federation.api", "candig_federation.api.federation", "examples", "index", "install", "modules", "run", "testing"], "filenames": ["candig_federation.rst", "candig_federation.api.rst", "candig_federation.api.federation.rst", "examples.rst", "index.rst", "install.rst", "modules.rst", "run.rst", "testing.rst"], "titles": ["candig_federation package", "API package", "Federation.py", "Sending a Request", "Welcome to CanDIG Federation\u2019s documentation!", "Installation", "candig_federation", "Starting Federation", "Testing the Federation Service"], "terms": {"The": [0, 1, 3, 4, 5, 7, 8], "contain": [0, 1, 2, 5, 7, 8], "all": [0, 1, 2, 3, 4, 7, 8], "work": [0, 5], "code": [0, 1, 2, 3, 5], "feder": [0, 3, 5, 6], "servic": [0, 1, 2, 3, 4, 5, 7], "thi": [0, 1, 2, 3, 5, 7, 8], "i": [0, 1, 2, 3, 4, 5, 7, 8], "split": 0, "between": [0, 8], "an": [0, 1, 3, 4, 7, 8], "api": [0, 2, 4, 5, 6, 7], "__main__": [0, 4, 7], "py": [0, 1, 4, 8], "driver": [0, 1, 2, 5], "modul": [0, 4, 5, 6], "run": [0, 5, 7, 8], "oper": [0, 4, 6, 8], "get_registered_serv": [0, 1, 6], "get_registered_servic": [0, 1, 6], "post_search": [0, 1, 6], "federationrespons": [0, 1, 6], "announce_fed_in": [0, 1], "announce_fed_out": [0, 1], "async_request": [0, 1, 2], "federate_check": [0, 1, 2], "get_response_object": [0, 1, 2], "get_server_from_url": [0, 1], "get_servic": [0, 1, 2], "handle_server_request": [0, 1, 2], "merge_statu": [0, 1, 2], "post_servic": [0, 1, 2], "log": [0, 2, 4, 5, 6], "fieldencod": [0, 1, 6], "default": [0, 1, 2, 5, 7], "apilog": [0, 1, 6], "logger": [0, 1, 6], "structured_log": [0, 1, 6], "definit": [], "main": [1, 8], "within": [1, 2, 3, 8], "ar": [1, 2, 3, 5, 7, 8], "which": [1, 4, 5, 7, 8], "implement": 1, "rout": 1, "logic": 1, "directli": [1, 3, 7], "path": [1, 3, 5, 7], "specifi": [1, 2, 3, 4, 5, 7, 8], "yaml": 1, "openapi": [1, 4], "3": [1, 2, 5], "spec": 1, "method": [1, 2, 3, 7, 8], "handl": [1, 2, 7], "incom": [1, 4, 8], "request": [1, 2, 4, 5], "pass": [1, 2, 3, 4], "from": [1, 2, 3, 7, 8], "tyk": [1, 5, 7], "candig_feder": [1, 2, 4, 5, 7, 8], "sourc": [1, 2], "get": [1, 2, 4], "dictionari": [1, 3], "regist": 1, "peer": [1, 2, 5, 7, 8], "server": [1, 2, 5, 7, 8], "send": [1, 2, 4, 7], "post": [1, 2, 3], "candig": [1, 2, 5, 7], "possibli": 1, "defin": [1, 2], "document": [1, 5], "retriev": 1, "endpoint_path": [1, 2, 3], "endpoint_payload": [1, 2, 3], "bodi": [1, 3], "follow": [1, 5, 7, 8], "convent": 1, "set": [1, 5, 7, 8], "get_search": 1, "microservic": [1, 2, 3], "specif": [1, 2], "typic": 1, "json": [1, 2, 3, 4, 7, 8], "object": [1, 2, 3], "sort": 1, "return": [1, 2, 7], "response_object": [1, 2], "string": [1, 2, 3], "merg": 1, "respons": [1, 2, 4, 7, 8], "node": [1, 2, 4, 5, 7], "structur": [1, 2, 8], "still": [1, 2], "need": [1, 2, 3, 5, 7, 8], "final": [1, 8], "statu": [1, 2], "result": [1, 2, 8], "servicenam": 1, "aggreg": [1, 2, 4, 7, 8], "http": [1, 2, 5, 7], "list": [1, 2, 5, 7], "name": [1, 2, 3, 5], "us": [1, 2, 5, 7, 8], "logstash": 1, "tag": 1, "provid": 1, "both": [1, 3, 5, 8], "local": [1, 7, 8], "class": [1, 8], "url": [1, 2, 5], "request_dict": [1, 2], "endpoint_servic": [1, 2, 3], "return_mimetyp": [1, 2], "applic": [1, 2, 5, 7], "timeout": [1, 2], "5": [1, 2], "base": [1, 2, 4, 5], "collect": [1, 2], "facilit": [1, 2], "queri": [1, 2, 3, 8], "across": [1, 2], "network": [1, 2, 4, 7], "paramet": [1, 2, 3], "str": [1, 2], "type": [1, 2, 3, 5, 7], "either": [1, 2, 3], "put": [1, 2], "tbd": [1, 2], "endpoint": [1, 2, 3], "mai": [1, 2, 3, 5, 7, 8], "param0": [1, 2], "value0": [1, 2], "paramn": [1, 2], "valuen": [1, 2], "struct": [1, 2], "depend": [1, 2, 7], "data": [1, 2, 5, 8], "flask": [1, 2, 7], "modifi": [1, 2], "forward": [1, 2, 3], "along": [1, 2, 4, 8], "track": [1, 2], "content": [1, 2, 7], "int": [1, 2], "wait": [1, 2, 7], "time": [1, 2], "befor": [1, 2], "out": [1, 2, 3, 7], "second": [1, 2, 7], "function": [1, 7, 8], "receiv": [1, 2, 7], "request_typ": [1, 3], "destin": 1, "being": [1, 3, 8], "sent": [1, 3], "url_list": [1, 2], "header": [1, 2, 7], "each": [1, 2, 5, 7], "asynchron": [1, 2], "futuresess": [1, 2], "futur": [1, 2], "back": [1, 2, 7], "should": [1, 2, 3, 5, 7], "match": [1, 2, 3], "config": [1, 2, 4, 8], "self": [1, 2, 8], "check": [1, 2, 7, 8], "condit": [1, 2], "met": [1, 2], "boolean": [1, 2], "commun": [1, 2, 8], "other": [1, 2, 7, 8], "1": [1, 2], "1a": [1, 2], "broadcast": [1, 2], "2": [1, 2], "If": [1, 2, 8], "requir": [1, 2, 3, 5, 7], "server_url": 1, "param": 1, "add": [1, 2, 3, 8], "make": [1, 2, 3, 4, 8], "updat": [1, 2], "kei": [1, 2, 3, 5], "pair": [1, 2], "unknown": [1, 2], "undefin": [1, 2], "so": [1, 2, 7], "just": [1, 2, 3], "append": [1, 2], "everyth": [1, 2], "instead": [1, 2, 8], "attempt": [1, 2], "intern": [1, 2], "responseobject": [1, 2], "onli": [1, 2], "test": [1, 2, 4], "status": [1, 2], "singl": [1, 2], "repres": [1, 2], "prioriti": [1, 2], "200": [1, 2], "one": [1, 2, 3, 4, 7], "exist": [1, 2], "201": [1, 2], "405": [1, 2], "504": [1, 2], "404": [1, 2], "500": [1, 2], "integ": [1, 2], "wrapper": 1, "call": 1, "skipkei": 1, "fals": [1, 7], "ensure_ascii": 1, "true": [1, 5, 7], "check_circular": 1, "allow_nan": 1, "sort_kei": 1, "indent": 1, "none": 1, "separ": 1, "jsonencod": 1, "wrap": 1, "field": 1, "safe": 1, "datetim": 1, "uuid": 1, "obj": 1, "subclass": 1, "serializ": 1, "o": 1, "rais": 1, "typeerror": 1, "For": [1, 5, 7], "exampl": [1, 3, 5], "support": 1, "arbitrari": 1, "iter": 1, "you": [1, 5, 8], "could": 1, "like": [1, 5], "def": 1, "try": 1, "except": 1, "els": 1, "let": 1, "func": 1, "arg": 1, "kwarg": 1, "decor": 1, "current": [1, 8], "keyword": [1, 5, 7], "argument": [1, 3, 5, 7], "There": [3, 5, 7], "number": [3, 5, 8], "wai": [3, 5], "rang": 3, "simpl": 3, "curl": 3, "command": [3, 5, 7, 8], "program": 3, "insomnia": 3, "postman": 3, "regardless": 3, "have": [3, 8], "four": 3, "tell": [3, 5], "what": 3, "configur": [3, 4, 7, 8], "file": [3, 5, 7, 8], "without": 3, "ani": [3, 5, 7, 8], "initi": [3, 7], "backslash": 3, "when": [3, 5, 7, 8], "construct": 3, "full": 3, "addit": [3, 5], "past": 3, "empti": 3, "noth": [3, 7], "A": [3, 7], "question": 3, "come": 3, "mind": 3, "look": [3, 5], "request_handl": 3, "rather": 3, "than": 3, "wa": [3, 7], "case": [3, 7], "first": [3, 5, 7], "quickli": 3, "becam": 3, "convolut": 3, "complex": 3, "search": [3, 5], "format": [3, 5, 7], "util": [3, 4, 5, 7], "much": 3, "easier": 3, "user": 3, "standpoint": 3, "up": [4, 5, 7], "v2": 4, "platform": 4, "It": [4, 7], "act": [4, 5], "entri": 4, "point": 4, "made": 4, "among": 4, "off": 4, "python": [4, 5, 7], "model": 4, "stack": 4, "connexion": 4, "sqlalchemi": 4, "bravado": 4, "core": 4, "pytest": [4, 8], "travi": [4, 8], "ci": [4, 8], "instal": 4, "uwsgi": [4, 7, 8], "start": [4, 5], "flow": 4, "packag": [4, 6], "why": [4, 7], "No": 4, "index": [], "page": [], "after": 5, "pull": 5, "repo": [5, 8], "creat": 5, "virtual": 5, "environ": 5, "7": 5, "pip": 5, "r": 5, "txt": 5, "three": 5, "section": 5, "properli": 5, "federation_servic": 5, "ini": [5, 7], "well": 5, "parser": 5, "add_argu": 5, "port": [5, 7, 8], "8890": 5, "host": [5, 7], "ga4ghdev01": 5, "bcgsc": 5, "ca": 5, "logfil": 5, "loglevel": 5, "info": 5, "choic": 5, "debug": 5, "warn": 5, "error": 5, "critic": 5, "schema": 5, "alter": 5, "through": [5, 7], "line": 5, "ad": [5, 7], "copi": 5, "abov": [5, 7], "explan": [5, 7], "listen": 5, "address": 5, "messag": [1, 2, 5, 8], "control": [5, 7], "verbos": [5, 8], "know": 5, "about": 5, "two": [5, 7, 8], "locat": 5, "folder": 5, "mark": 5, "_ex": 5, "valid": [5, 8], "instanc": [5, 7, 8], "order": [5, 7, 8], "correspond": 5, "gatewai": [5, 7], "includ": 5, "In": [5, 8], "your": 5, "arrai": 5, "research": 5, "centr": 5, "provinc": 5, "compat": 5, "": 5, "portal": 5, "github": [], "com": 5, "ab": 5, "bc": 5, "mb": 5, "nb": 5, "nl": 5, "nt": 5, "n": 5, "nu": 5, "pe": 5, "qc": 5, "sk": 5, "yt": 5, "p1": [], "server1": [], "p2": [], "server2": [], "rnaget": [], "example1": 5, "dataset": [], "example2": 5, "access": [5, 8], "due": [5, 8], "pars": 5, "import": 5, "same": 5, "its": [5, 7], "top": 5, "level": 5, "directori": [5, 8], "portion": [], "would": 5, "chdir": 5, "socket": 5, "output": 8, "wsgi": 5, "home": [], "dnaidoo": [], "master": 5, "process": [5, 7], "gid": 5, "sock": 5, "chmod": 5, "660": 5, "vacuum": 5, "die": 5, "term": 5, "option": 7, "m": 7, "offer": 7, "abil": 7, "chang": [7, 8], "With": 7, "spawn": 7, "simul": [7, 8], "more": [5, 7, 8], "site": 7, "see": 7, "better": 7, "least": 7, "automat": 7, "throughout": 7, "system": 7, "flag": 7, "assum": 7, "unless": 7, "explicitli": 7, "also": 7, "author": 7, "token": 7, "obtain": 7, "while": [7, 8], "itself": 7, "doe": 7, "perform": 7, "authent": 7, "accept": 7, "bearer": 7, "id_token": 7, "receiev": 7, "rerout": 7, "desir": 7, "upon": [7, 8], "continu": 7, "end": [7, 8], "origin": 7, "known": 7, "combin": 7, "mean": 7, "multipl": 7, "sinc": [7, 8], "decid": 7, "dure": [7, 8], "technic": 7, "meet": 7, "keep": 7, "uniform": 7, "possibl": 7, "regard": [7, 8], "librari": 8, "autom": 8, "divid": 8, "test_network": 8, "relat": 8, "bulk": 8, "done": 8, "test_uniform_feder": 8, "most": 8, "natur": 8, "tool": 8, "mani": 8, "mock": 8, "outgo": 8, "want": 8, "suit": 8, "test_struct": 8, "found": 8, "test_data": 8, "input": 8, "hook": 8, "commit": 8, "branch": 8, "vv": 8, "0": 5, "british": 5, "columbia": 5, "8891": 5, "ontario": 5, "8892": 5, "uhn": 5, "d": 5, "special": 5, "variabl": 5, "where": 5, "katsi": [], "htsget": 5, "katsu": 5, "indic": 5, "gener": 8, "readabl": 8, "html": [5, 8], "cov": 8, "test_report": 8, "addition": 8, "test_local_feder": 8, "integr": 8, "expect": 8, "real": 8, "differ": 8, "instruct": 8, "readm": 8, "sure": 8, "thei": 8, "doesn": 8, "t": 8, "skip": 8, "push": 8, "repositori": 8, "unfeder": 8, "inform": 5, "how": 5, "head": [], "doc": 5, "readthedoc": 5, "io": 5, "en": 5, "latest": 5, "_": [], "custom": 5, "read": 5}, "objects": {"candig_federation.api": [[1, 0, 0, "-", "federation"], [1, 0, 0, "-", "logging"], [1, 0, 0, "-", "operations"]], "candig_federation.api.federation": [[1, 1, 1, "", "FederationResponse"]], "candig_federation.api.federation.FederationResponse": [[1, 2, 1, "", "announce_fed_in"], [1, 2, 1, "", "announce_fed_out"], [1, 2, 1, "", "async_requests"], [1, 2, 1, "", "federate_check"], [1, 2, 1, "", "get_response_object"], [1, 2, 1, "", "get_server_from_url"], [1, 2, 1, "", "get_service"], [1, 2, 1, "", "handle_server_request"], [1, 2, 1, "", "merge_status"], [1, 2, 1, "", "post_service"]], "candig_federation.api.logging": [[1, 1, 1, "", "FieldEncoder"], [1, 3, 1, "", "apilog"], [1, 3, 1, "", "logger"], [1, 3, 1, "", "structured_log"]], "candig_federation.api.logging.FieldEncoder": [[1, 2, 1, "", "default"]], "candig_federation.api.operations": [[1, 3, 1, "", "get_registered_servers"], [1, 3, 1, "", "get_registered_services"], [1, 3, 1, "", "post_search"]]}, "objtypes": {"0": "py:module", "1": "py:class", "2": "py:method", "3": "py:function"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "class", "Python class"], "2": ["py", "method", "Python method"], "3": ["py", "function", "Python function"]}, "titleterms": {"candig_feder": [0, 6], "packag": [0, 1], "api": 1, "oper": 1, "modul": 1, "feder": [1, 2, 4, 7, 8], "log": 1, "definit": [], "py": [2, 5], "The": 2, "federationrespons": 2, "class": 2, "send": 3, "request": [3, 7], "why": 3, "No": 3, "get": 3, "welcom": 4, "candig": 4, "": 4, "document": 4, "indic": [], "tabl": [], "instal": 5, "configur": 5, "__main__": 5, "json": 5, "config": 5, "uwsgi": 5, "start": 7, "incom": 7, "flow": 7, "test": 8, "servic": 8}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.todo": 2, "sphinx.ext.viewcode": 1, "sphinx": 57}, "alltitles": {"Sending a Request": [[3, "sending-a-request"]], "Why No GET?": [[3, "why-no-get"]], "candig_federation": [[6, "candig-federation"]], "Starting Federation": [[7, "starting-federation"]], "Incoming Requests": [[7, "incoming-requests"]], "Request Flow": [[7, "request-flow"]], "candig_federation package": [[0, "candig-federation-package"]], "API package": [[1, "api-package"]], "Operations Module": [[1, "module-candig_federation.api.operations"]], "Federation Module": [[1, "module-candig_federation.api.federation"]], "Logging Module": [[1, "module-candig_federation.api.logging"]], "Federation.py": [[2, "federation-py"]], "The FederationResponse class": [[2, "the-federationresponse-class"]], "Welcome to CanDIG Federation\u2019s documentation!": [[4, "welcome-to-candig-federation-s-documentation"]], "Installation": [[5, "installation"]], "Configuration": [[5, "configuration"]], "__main__.py": [[5, "main-py"]], "JSON configs": [[5, "json-configs"]], "uWSGI Configuration": [[5, "uwsgi-configuration"]], "Testing the Federation Service": [[8, "testing-the-federation-service"]]}, "indexentries": {"federationresponse (class in candig_federation.api.federation)": [[1, "candig_federation.api.federation.FederationResponse"]], "fieldencoder (class in candig_federation.api.logging)": [[1, "candig_federation.api.logging.FieldEncoder"]], "announce_fed_in() (candig_federation.api.federation.federationresponse method)": [[1, "candig_federation.api.federation.FederationResponse.announce_fed_in"]], "announce_fed_out() (candig_federation.api.federation.federationresponse method)": [[1, "candig_federation.api.federation.FederationResponse.announce_fed_out"]], "apilog() (in module candig_federation.api.logging)": [[1, "candig_federation.api.logging.apilog"]], "async_requests() (candig_federation.api.federation.federationresponse method)": [[1, "candig_federation.api.federation.FederationResponse.async_requests"]], "candig_federation.api.federation": [[1, "module-candig_federation.api.federation"]], "candig_federation.api.logging": [[1, "module-candig_federation.api.logging"]], "candig_federation.api.operations": [[1, "module-candig_federation.api.operations"]], "default() (candig_federation.api.logging.fieldencoder method)": [[1, "candig_federation.api.logging.FieldEncoder.default"]], "federate_check() (candig_federation.api.federation.federationresponse method)": [[1, "candig_federation.api.federation.FederationResponse.federate_check"]], "get_registered_servers() (in module candig_federation.api.operations)": [[1, "candig_federation.api.operations.get_registered_servers"]], "get_registered_services() (in module candig_federation.api.operations)": [[1, "candig_federation.api.operations.get_registered_services"]], "get_response_object() (candig_federation.api.federation.federationresponse method)": [[1, "candig_federation.api.federation.FederationResponse.get_response_object"]], "get_server_from_url() (candig_federation.api.federation.federationresponse method)": [[1, "candig_federation.api.federation.FederationResponse.get_server_from_url"]], "get_service() (candig_federation.api.federation.federationresponse method)": [[1, "candig_federation.api.federation.FederationResponse.get_service"]], "handle_server_request() (candig_federation.api.federation.federationresponse method)": [[1, "candig_federation.api.federation.FederationResponse.handle_server_request"]], "logger() (in module candig_federation.api.logging)": [[1, "candig_federation.api.logging.logger"]], "merge_status() (candig_federation.api.federation.federationresponse method)": [[1, "candig_federation.api.federation.FederationResponse.merge_status"]], "module": [[1, "module-candig_federation.api.federation"], [1, "module-candig_federation.api.logging"], [1, "module-candig_federation.api.operations"]], "post_search() (in module candig_federation.api.operations)": [[1, "candig_federation.api.operations.post_search"]], "post_service() (candig_federation.api.federation.federationresponse method)": [[1, "candig_federation.api.federation.FederationResponse.post_service"]], "structured_log() (in module candig_federation.api.logging)": [[1, "candig_federation.api.logging.structured_log"]]}})